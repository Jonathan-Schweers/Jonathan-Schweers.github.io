<!DOCTYPE html>
<html>
    <head>
        <title>CAD Gallerie | Jonathan Schweers</title>
        <link href="https://fonts.googleapis.com/css2?family=Asap&display=swap" rel="stylesheet">
    </head>

    <div class="header">
        <p>CAD Gallerie</p>
        <img src="jonathanSchweers.svg">
    </div>

    <div class="relative-header"></div>

    <div class="chapter-container">
        <div class="chapter">2023</div>
        <div class="grid-container">
            <button id="slideRight" type="button"><img src="arrowLeft.svg"></button>
            <button id="slideLeft" type="button"><img src="arrowRight.svg"></button>
            <div class="grid" id="grid2023">
                <div class="grid-item"><img src="monitor.png" alt="monitor"></div>
                <div class="grid-item"><img src="schnecke.png" alt="schnecke"></div>
                <div class="grid-item"><img src="geige.png" alt="geige"></div>
                <div class="grid-item"><img src="bench.png" alt="bench"></div>
            </div>
        </div>
    </div>

    <div class="chapter-container">
        <div class="chapter">2022</div>
        <div class="grid-container">
            <button id="slideRight" type="button"><img src="arrowLeft.svg"></button>
            <button id="slideLeft" type="button"><img src="arrowRight.svg"></button>
            <div class="grid">
                <div class="grid-item"><img src="hook.png" alt="hook"></div>
                <div class="grid-item"><img src="ring.png" alt="ring"></div>
            </div>
        </div>
    </div>

    <div class="chapter-container">
        <div class="chapter">2021</div>
        <div class="grid-container">
            <button id="slideRight" type="button"><img src="arrowLeft.svg"></button>
            <button id="slideLeft" type="button"><img src="arrowRight.svg"></button>
            <div class="grid">
                <div class="grid-item"><img src="hifiberry.png" alt="hifiberry"></div>
                <div class="grid-item"><img src="light.png" alt="light"></div>
                <div class="grid-item"><img src="mouse.png" alt="mouse"></div>
            </div>
        </div>
    </div>

    <div class="chapter-container">
        <div class="chapter">2020</div>
        <div class="grid-container">
            <button id="slideRight" type="button"><img src="arrowLeft.svg"></button>
            <button id="slideLeft" type="button"><img src="arrowRight.svg"></button>
            <div class="grid">
                <div class="grid-item"><img src="soap.png" alt="soap"></div>
                <div class="grid-item"><img src="dish.png" alt="dish"></div>
            </div>
        </div>
    </div>

    <div class="chapter-container">
        <div class="chapter">2019</div>
        <div class="grid-container">
            <button id="slideRight" type="button"><img src="arrowLeft.svg"></button>
            <button id="slideLeft" type="button"><img src="arrowRight.svg"></button>
            <div class="grid">
                <div class="grid-item"><img src="pepper.png" alt="pepper"></div>
                <div class="grid-item"><img src="corner.png" alt="corner"></div>
                <div class="grid-item"><img src="joint.png" alt="joint"></div>
                <div class="grid-item"><img src="magnet.png" alt="magnet"></div>
                <div class="grid-item"><img src="turtle2.png" alt="turtle2"></div>
            </div>
        </div>
    </div>

    <div class="chapter-container">
        <div class="chapter">2018</div>
        <div class="grid-container">
            <button id="slideRight" type="button"><img src="arrowLeft.svg"></button>
            <button id="slideLeft" type="button"><img src="arrowRight.svg"></button>
            <div class="grid">
                <div class="grid-item"><img src="bread.png" alt="bread"></div>
                <div class="grid-item"><img src="turtle1.png" alt="turtle1"></div>
                <div class="grid-item"><img src="tripod.png" alt="tripod"></div>
            </div>
        </div>
    </div>

    <div class="chapter-container">
        <div class="chapter">2017</div>
        <div class="grid-container">
            <button id="slideRight" type="button"><img src="arrowLeft.svg"></button>
            <button id="slideLeft" type="button"><img src="arrowRight.svg"></button>
            <div class="grid">
                <div class="grid-item"><img src="fridgeHinge.png" alt="fridgeHinge"></div>
            </div>
        </div>
    </div>
      
</html>
    
<style>
    body {
        margin: 0;
        font-family: 'Asap', sans-serif;
        color: white;
        background-color: rgb(12, 15, 29);
    }

    .header {
        z-index: 11;
        position: fixed;
        backdrop-filter: blur(5px);
        font-size: 40px;
        letter-spacing: 7px;
        background-color: rgba(27, 29, 42, 0.9);
        width: 100%;
        height: 90px;
        margin-bottom: 5px;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0px 3px 3px -2px rgba(0,0,0,0.2), 0px 3px 4px 0px rgba(0,0,0,0.14), 0px 1px 8px 0px rgba(0,0,0,0.12);
    }

    .header img {
        position: absolute;
        right: 7.5%;
        height: 50px;
    }

    .relative-header {
        height: 95px;
    }

    .chapter-container {
        position: relative;
    }

    .grid-container button {
        position: absolute;
        z-index: 10;
        top: 195px;
        background-color: rgba(27, 29, 42, 0.9);
        backdrop-filter: blur(5px);
        box-shadow: 0px 3px 3px -2px rgba(0,0,0,0.2), 0px 3px 4px 0px rgba(0,0,0,0.14), 0px 1px 8px 0px rgba(0,0,0,0.12);
        color: white;
        width: 45px;
        height: 120px;
        border: none;
        border-radius: 22.5px;
        cursor: pointer;
    }

    .grid-container button:hover img{
        filter: brightness(100);
    }

    #slideLeft {
        right: 10px;
    }
    
    #slideRight {
        margin-left: 180px;
    }

    .chapter {
        position: sticky;
        top: 95px;
        z-index: 9;
        background-attachment: fixed;
        background-image: linear-gradient(to top, rgba(27, 29, 42, 0.9) 50%, rgba(39, 41, 60, 0.9));
        backdrop-filter: blur(5px);
        box-shadow: 0px 3px 3px -2px rgba(0,0,0,0.2), 0px 3px 4px 0px rgba(0,0,0,0.14), 0px 1px 8px 0px rgba(0,0,0,0.12);
        color: rgb(133, 108, 76);
        font-size: 30px;
        height: 45px;
        width: 120px;
        border-radius: 22.5px;
        display: flex;
        justify-content: center;
        align-items: center;
        left: 50px;
    }

    .grid-container {
        margin-top: -45px;
    }

    .grid {
        position: relative;
        margin-bottom: 5px;
        margin-left: 175px;
        margin-right: 5px;
        border-radius: 22.5px;
        display: flex;
        justify-content: flex-start;
        gap: 5px;
        overflow: scroll;

        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .grid::-webkit-scrollbar {
        display: none;
    }

    .grid-item {
        display: flexbox;
        position: relative;
        overflow: hidden;
        border-radius: 22.5px;
        cursor: pointer;
        flex-shrink: 0;
    }

    .grid-item img {
        width: auto;
        height: 500px;
        scale: 101%;
        display: block;
        transition: transform 0.5s ease;
    }

    .grid img:hover {
        transform: scale(105%) rotate(0.5deg);
    }

</style>

<script>
    // Get all the chapter containers on the page
    const chapterContainers = document.querySelectorAll('.chapter-container');

    // Loop through each chapter container
    chapterContainers.forEach(container => {
        // Find the relevant elements within each container
        const slideLeftButton = container.querySelector('#slideLeft');
        const slideRightButton = container.querySelector('#slideRight');
        const grid = container.querySelector('.grid');

        // Add event listeners to the buttons
        slideLeftButton.addEventListener('click', () => {
        // slide the specific grid left
        smoothScroll(grid, 810);
        });

        slideRightButton.addEventListener('click', () => {
        // slide the specific grid right
        smoothScroll(grid, -810);
        });

        // Check scroll position and toggle button visibility on page load
        toggleButtonVisibility(grid, slideLeftButton, slideRightButton);

        // Check scroll position and toggle button visibility on scroll event
        grid.addEventListener('scroll', () => {
            toggleButtonVisibility(grid, slideLeftButton, slideRightButton);
        });

        // Add additional check for initial button visibility
        window.addEventListener('load', () => {
            toggleButtonVisibility(grid, slideLeftButton, slideRightButton, false);
        });

        // Check button visibility when window size is adjusted
        window.addEventListener('resize', () => {
            toggleButtonVisibility(grid, slideLeftButton, slideRightButton);
        });

    });

    function smoothScroll(element, distance) {
        const start = element.scrollLeft;
        const startTime = performance.now();

    function scroll(timestamp) {
        const elapsed = timestamp - startTime;
        const progress = Math.min(elapsed / 600, 1); // Adjust the duration as needed (here, it's set to 400ms)
        const scrollAmount = start + distance * progress;

        element.scrollLeft = scrollAmount;

        if (progress < 1) {
            requestAnimationFrame(scroll);
        }
    }

    requestAnimationFrame(scroll);
}

function toggleButtonVisibility(grid, slideLeftButton, slideRightButton, initialLoad = false) {
    const scrollLeftMax = grid.scrollWidth - grid.clientWidth;
    
    slideRightButton.style.visibility = initialLoad ? 'visible' : grid.scrollLeft === 0 ? 'hidden' : 'visible';
    slideLeftButton.style.visibility = grid.scrollLeft >= scrollLeftMax ? 'hidden' : 'visible';
}
</script>